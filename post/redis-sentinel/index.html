<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Redis哨兵机制总结 - 好威武支持有希望</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="sunsai"><meta name=description content="简单总结下redis的哨兵机制
   哨兵机制是什么
哨兵就是一台运行在特殊状态的redis服务器, 用来监控master节点和slave节点以及其他sentinel节点的状态, 在master节点下线时, 从slave节点中选择新的master节点
  解决了什么问题
解决了redis服务端的高可用, 即master节点宕机之后, 自动切换slave节点来继续提供服务
  不能解决什么问题
 不能解决的数据不丢失的问题, 就是在master节点宕机时, 因为master同步数据到slave是异步同步的方式, 所以是有时间差的,在这个时间差内更新的数据会丢失掉    怎么启动哨兵服务
 有两种方式启动哨兵服务  $ redis-sentinel /path/to/your/config/sentinel.conf $ redis-server /path/to/your/config/sentinel.conf —-sentinel      启动过程
  初始化服务器
  将普通redis服务端的代码替换为sentinel模式的代码
  初始化sentinel状态
  根据配置, 初始化sentinel监控的主服务器列表
  创建连向主服务器的连接
会创建两个连接,
一个是命令连接, 用于向服务器发送命令
一个是专门订阅服务器的__sentinel__:hello频道
    工作过程
  获取各种服务器的状态并建立相应的连接"><meta name=keywords content="java,theme,jane"><meta name=generator content="Hugo 0.81.0"><link rel=canonical href=/post/redis-sentinel/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.9c3f74785689e1d6a69411345ec9043a190655c87d7a44093b74089785613cae.css integrity="sha256-nD90eFaJ4damlBE0XskEOhkGVch9ekQJO3QIl4VhPK4=" media=screen crossorigin=anonymous><meta property="og:title" content="Redis哨兵机制总结"><meta property="og:description" content="简单总结下redis的哨兵机制
   哨兵机制是什么
哨兵就是一台运行在特殊状态的redis服务器, 用来监控master节点和slave节点以及其他sentinel节点的状态, 在master节点下线时, 从slave节点中选择新的master节点
  解决了什么问题
解决了redis服务端的高可用, 即master节点宕机之后, 自动切换slave节点来继续提供服务
  不能解决什么问题
 不能解决的数据不丢失的问题, 就是在master节点宕机时, 因为master同步数据到slave是异步同步的方式, 所以是有时间差的,在这个时间差内更新的数据会丢失掉    怎么启动哨兵服务
 有两种方式启动哨兵服务  $ redis-sentinel /path/to/your/config/sentinel.conf $ redis-server /path/to/your/config/sentinel.conf —-sentinel      启动过程
  初始化服务器
  将普通redis服务端的代码替换为sentinel模式的代码
  初始化sentinel状态
  根据配置, 初始化sentinel监控的主服务器列表
  创建连向主服务器的连接
会创建两个连接,
一个是命令连接, 用于向服务器发送命令
一个是专门订阅服务器的__sentinel__:hello频道
    工作过程
  获取各种服务器的状态并建立相应的连接"><meta property="og:type" content="article"><meta property="og:url" content="/post/redis-sentinel/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-05-04T15:16:36+08:00"><meta property="article:modified_time" content="2021-05-04T15:16:36+08:00"><meta itemprop=name content="Redis哨兵机制总结"><meta itemprop=description content="简单总结下redis的哨兵机制
   哨兵机制是什么
哨兵就是一台运行在特殊状态的redis服务器, 用来监控master节点和slave节点以及其他sentinel节点的状态, 在master节点下线时, 从slave节点中选择新的master节点
  解决了什么问题
解决了redis服务端的高可用, 即master节点宕机之后, 自动切换slave节点来继续提供服务
  不能解决什么问题
 不能解决的数据不丢失的问题, 就是在master节点宕机时, 因为master同步数据到slave是异步同步的方式, 所以是有时间差的,在这个时间差内更新的数据会丢失掉    怎么启动哨兵服务
 有两种方式启动哨兵服务  $ redis-sentinel /path/to/your/config/sentinel.conf $ redis-server /path/to/your/config/sentinel.conf —-sentinel      启动过程
  初始化服务器
  将普通redis服务端的代码替换为sentinel模式的代码
  初始化sentinel状态
  根据配置, 初始化sentinel监控的主服务器列表
  创建连向主服务器的连接
会创建两个连接,
一个是命令连接, 用于向服务器发送命令
一个是专门订阅服务器的__sentinel__:hello频道
    工作过程
  获取各种服务器的状态并建立相应的连接"><meta itemprop=datePublished content="2021-05-04T15:16:36+08:00"><meta itemprop=dateModified content="2021-05-04T15:16:36+08:00"><meta itemprop=wordCount content="223"><meta itemprop=keywords content="redis,中间件,缓存,高可用,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Redis哨兵机制总结"><meta name=twitter:description content="简单总结下redis的哨兵机制
   哨兵机制是什么
哨兵就是一台运行在特殊状态的redis服务器, 用来监控master节点和slave节点以及其他sentinel节点的状态, 在master节点下线时, 从slave节点中选择新的master节点
  解决了什么问题
解决了redis服务端的高可用, 即master节点宕机之后, 自动切换slave节点来继续提供服务
  不能解决什么问题
 不能解决的数据不丢失的问题, 就是在master节点宕机时, 因为master同步数据到slave是异步同步的方式, 所以是有时间差的,在这个时间差内更新的数据会丢失掉    怎么启动哨兵服务
 有两种方式启动哨兵服务  $ redis-sentinel /path/to/your/config/sentinel.conf $ redis-server /path/to/your/config/sentinel.conf —-sentinel      启动过程
  初始化服务器
  将普通redis服务端的代码替换为sentinel模式的代码
  初始化sentinel状态
  根据配置, 初始化sentinel监控的主服务器列表
  创建连向主服务器的连接
会创建两个连接,
一个是命令连接, 用于向服务器发送命令
一个是专门订阅服务器的__sentinel__:hello频道
    工作过程
  获取各种服务器的状态并建立相应的连接"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>好威武支持有希望</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=/>首页</a></li><li class=mobile-menu-item><a class=menu-item-link href=/post/>归档</a></li><li class=mobile-menu-item><a class=menu-item-link href=/tags/>标签</a></li><li class=mobile-menu-item><a class=menu-item-link href=/categories/>分类</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>好威武支持有希望</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>首页</a></li><li class=menu-item><a class=menu-item-link href=/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=/categories/>分类</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>Redis哨兵机制总结</h1><div class=post-meta><time datetime=2021-05-04 class=post-time>2021-05-04</time><div class=post-category><a href=/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/>数据库</a></div><span id=busuanzi_container_page_pv>| 阅读 <span id=busuanzi_value_page_pv></span></span></div></header><div class=post-content><blockquote><p>简单总结下redis的哨兵机制</p></blockquote><ul><li><p>哨兵机制是什么</p><p>哨兵就是一台运行在特殊状态的redis服务器, 用来监控master节点和slave节点以及其他sentinel节点的状态, 在master节点下线时, 从slave节点中选择新的master节点</p></li><li><p>解决了什么问题</p><p>解决了redis服务端的高可用, 即master节点宕机之后, 自动切换slave节点来继续提供服务</p></li><li><p>不能解决什么问题</p><ul><li>不能解决的数据不丢失的问题, 就是在master节点宕机时, 因为master同步数据到slave是异步同步的方式, 所以是有时间差的,在这个时间差内更新的数据会丢失掉</li></ul></li><li><p>怎么启动哨兵服务</p><ul><li>有两种方式启动哨兵服务<ol><li><code>$ redis-sentinel /path/to/your/config/sentinel.conf</code></li><li><code>$ redis-server /path/to/your/config/sentinel.conf —-sentinel</code></li></ol></li></ul></li><li><p>启动过程</p><ul><li><p>初始化服务器</p></li><li><p>将普通redis服务端的代码替换为sentinel模式的代码</p></li><li><p>初始化sentinel状态</p></li><li><p>根据配置, 初始化sentinel监控的主服务器列表</p></li><li><p>创建连向主服务器的连接</p><p>会创建两个连接,</p><p>一个是命令连接, 用于向服务器发送命令</p><p>一个是专门订阅服务器的<code>__sentinel__:hello</code>频道</p><p><img src=https://cdn.jsdelivr.net/gh/spsl/upic-upload@master/uPic/2021-05/2021-05-04-15-34-27-1620113667-EOP3Wq.png alt=img></p></li></ul></li><li><p>工作过程</p><ul><li><p>获取各种服务器的状态并建立相应的连接</p><ul><li><p>获取主服务器的信息,并建立命令连接和订阅连接</p><ul><li>默认情况下, 哨兵每10s通过命令连接向服务器发送INFO命令,并通过响应信息获取到服务器的状态<ul><li>一个是可以获得服务器本身的信息比如runid和服务器的角色</li><li>另外就是还可以获取从服务器的信息<ul><li>比如从服务器的hostname, ip, port等等</li></ul></li></ul></li></ul></li><li><p>获取从服务器的信息,并建立命令连接和订阅连接</p><ul><li>当sentinel从主服务器那里获取到了新的从服务器, 会创建对应的从服务器的实例对象信息</li><li>同时也会向从服务器创建两个链接<ul><li>命令连接和订阅连接, 作用和主服务器的两个连接一致</li></ul></li><li>也是每10秒就像命令连接发送一个INFO命令, 并根据响应信息解析出从服务器的状态<ul><li>包括从服务器本身的一些信息,比如runid, 角色</li><li>主服务器的hostname, ip, port等</li><li>从服务器和主服务器间的连接的状态</li><li>从服务器的优先级</li><li><strong>从服务器复制的偏移量</strong></li></ul></li></ul></li><li><p>获取其他sentinel服务的信息, 并互相创建命令连接</p><ul><li>sentinel每2秒向主服务器和从服务器发送命令<ul><li>向__sentinel __:hello频道内发送信息, 包含当前sentinel信息和master的信息</li><li></li></ul></li><li>同时在订阅连接上就可以接受到这个频道上面的所有信息, 就可以解析出其他的sentinel的信息了</li><li>在解析到其他sentinel信息的时候, 在服务器内部创建sentinels的实例信息</li><li>同时还向其他sentinel创建一个命令连接</li><li>同时其他的sentinel也会和当前的这个sentinel实例创建一个命令连接</li></ul><p><img src=https://cdn.jsdelivr.net/gh/spsl/upic-upload@master/uPic/2021-05/2021-05-04-15-36-03-1620113763-2021-05-04-15-35-30-1620113730-mfQyZy.png alt=img></p></li></ul></li><li><p>监测服务主观下线状态(SDOWN)</p><ul><li>sentinel服务每1秒会通过命令链接, 向所有的实例(主节点, 从节点, 其他sentinel节点)发送PING 命令</li><li>然后根据响应信息判断响应内容是否有效<ul><li>有效回复为响应内容为: PONG, LOADING, MASTERDOWN三种</li><li>无效响应为除有效响应的三种外,其他响应内容都是无效的, 包括超时未响应</li></ul></li><li>然后对于无效响应, 判断服务否是进入主观宕机<ul><li>如服务在指定时间内未响应过有效信息, 则会判断该实例为主观宕机<ul><li>通过#Redis参数<code>down-after-milliseconds</code>来设置该时间<ul><li>这个参数是设置在sentinel端的, 在sentinel内, 判断主服务器,从服务器,其他sentinel服务,主观宕机都是用的这一个参数</li><li>另外就是监控同一个master的其他sentinel设置的时间是不一致的, 所以有可能sentinel1任务master1已经宕机了, 但是sentinel2因为设置的时间比较长, 还没有任务该master1已经宕机</li></ul></li></ul></li></ul></li></ul></li><li><p>监测服务客观下线状态(ODOWN)</p><ul><li><p>在sentinel检测到一个服务已经主观宕机, 这个时候, 该sentinel会通过命令连接向其他的sentinel进行询问, 判断其他sentinel服务是否也认为该节点实例也下线了</p><ul><li><p>发送 <code>SENTINEL is-master-down-by-addr ip port current_epoch runid</code>命令到其他的sentinel服务</p><p><img src=https://cdn.jsdelivr.net/gh/spsl/upic-upload@master/uPic/2021-05/2021-05-04-15-36-34-1620113794-image-20210504153634232.png alt=img></p></li><li><p>响应 <code>SENTINEL is-master-down-by-addr </code>查询命令</p><p><img src=https://cdn.jsdelivr.net/gh/spsl/upic-upload@master/uPic/2021-05/2021-05-04-15-37-01-1620113821-image-20210504153701048.png alt=img></p></li><li><p>根据响应结果判断是否满足客观下线状态</p><ul><li>判断认为当前master节点已经主观下线了的数量是否大于等于配置中<code>quorum</code>设置的数量<ul><li>设置方式为<code>sentinel monitor master 127.0.0.1 6379 2</code></li><li>这里这个quorum在每个sentinel中设置的也是可能不一样的, 比如在sentinel1中设置的是2, 那么只要有其他任何一个sentinel也认为这个节点主观下线了, 那么这个master在该sentinel1上就会设置为客观下线, 但是在sentinel5上面设置的quorum设置的是5, 那么在sentinel5上, 这个master节点就不满足客观下线的条件</li></ul></li><li>如果大于这个数量,则设置当前master节点为客观下线状态, 更新sentinel服务中测个实例的状态为ODOWN</li></ul></li></ul></li></ul></li><li><p>选举sentinel leader</p><ul><li>在某个sentinel认为某个master已经客观下线后, 需要选择新的master节点来继续服务, 在这之前需要先在众多sentinel中选择一个leader来执行故障迁移</li><li>选举规则采用的是Raft协议中的leader选举算法<ul><li>每个sentinel都有可能成为leader</li><li>每一轮选举 <code>configuration epoch</code> 都会自增<ul><li>这个就是raft协议中的任期号</li></ul></li><li>参选的sentinel向其他sentinel服务发送 is-master-down-by-addr 命令, 其中runid参数部分由*改为这个sentinel服务的runid</li></ul></li></ul></li><li><p>故障转移</p><ul><li>在选举出leader sentinel后, 由这个leader执行故障转移过程</li><li>从已下线的master服务的slave服务中选择一个作为新的master节点<ul><li>获得slave服务的列表</li><li>删除已经下线了的slave服务<ul><li>保证slave服务状态是正常的, 总不能选举出来一个已经下线了的slave服务作为新的master节点吧</li></ul></li><li>删除最近5秒内没有回复过该sentinel INFO命令的slave服务<ul><li>继续保证剩下的slave存活的可能下更大</li></ul></li><li>删除和已下线的master节点断开时间超过 down-after-milliseconds * 10 时间的slave服务<ul><li>保证剩下的服务, 数据是比较新的, 如果早早就和master断开了, 则说明数据可能是比较老的了, 很久没有复制了</li></ul></li><li>对剩下的slave服务根据优先级进行排序</li><li>对于优先级相同的, 再根据已复制的偏移量进行排序<ul><li>偏移量越大, 说明数据越新, 则优先级就越高</li></ul></li><li>向选中的slave 发送<code> SLAVEOF no one</code> 命令, 通知这个slave切换为master模式<ul><li>在发送过 SLAVEOF no one命令后, sentinel leader会每隔1s发送INFO命令, 并观察返回的结果<ul><li>如果返回角色为master, 则说明这个slave已经成功切换成master模式</li></ul></li></ul></li></ul></li><li>让其他slave服务开始复制新的master<ul><li>向其他从服务器发送 SLAVEOF命令, 让他们开始复制新的master服务器</li></ul></li><li>将已经下线的master节点设置为slave节点<ul><li>因为原先master节点现在已经下线了, 所以先把状态保存在sentinel服务内, 在该节点上线后, sentinel再发送SLAVEOF 命令, 让它复制新的master节点</li></ul></li></ul></li></ul></li><li><p>最佳实践</p><p>由Raft协议可以知道, sentinel服务实例需要设置基数个, 且最少需要启动三个服务</p></li><li><p>总结</p><ul><li>sentinel只是一个运行在特殊模式下的redis服务</li><li>根据配置监测的master节点,进而发现该master的slave服务列表,和其他的sentinel服务实例</li><li>和master/slave服务分别建立命令连接和订阅链接, 和其他sentinel服务实例互相建立一个命令连接</li><li>通过INFO命令获取master/slave服务的信息和状态等</li><li>通过订阅<code>__sentinel__:hello</code>频道发现到其他的sentinel实例</li><li>sentinel每1s向其他服务实例发送ping命令, 并根据响应信息判断是否是主观下线</li><li>如果监测到一个master主观下线, 则开始监测是否为客观下线</li><li>客观下线后, 可是sentinel leader选举</li><li>有sentinel leader 执行故障转移</li></ul></li></ul></div><footer class=post-footer><div class=post-tags><a href=/tags/redis/>redis</a>
<a href=/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/>中间件</a>
<a href=/tags/%E7%BC%93%E5%AD%98/>缓存</a>
<a href=/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/>高可用</a></div><nav class=post-nav><a class=next href=/post/aqs/><span class="next-text nav-default">AQS是什么</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697c-11.777231-11.500939-30.216186-10.304694-41.178865 2.712784z"/></svg></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:sunsaics@gmail.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg></a><a href=https://github.com/spsl rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04C242.005334 929.664 211.968 830.08 211.968 830.08 188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667v-199.04c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2017 -
2021
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>sunsai</span></span>
<span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script><script id=baidu_push>(function(){var a,c,b;if(window.location.hostname==='localhost')return;a=document.createElement('script'),a.async=!0,c=window.location.protocol.split(':')[0],c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script type=text/javascript src=/js/load-photoswipe.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>